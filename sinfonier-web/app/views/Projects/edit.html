#{extends 'Layouts/darwin-control-panel-layout.html' /}
#{set 'title'} &{'Projects.edit.title'} #{/set}
#{set 'moreStyles'}
<link rel="stylesheet" href="@{'/public/javascripts/vendor/codemirror-5.16.0/lib/codemirror.css'}">
    #{stylesheet 'projects.css' /}
#{/set}

#{ifErrors }
<div class="row">
  <div class="col-lg-12">
      #{errors }
        <div id="project-div-error" class="alert alert-danger alert-dismissible" role="alert">
          <button id="project-button-errorClose" type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        ${error}
        </div>
      #{/errors}
  </div>
</div>
#{/ifErrors}

#{if flash.get(controllers.Projects.FLASH_KEY_BACKEND_LOG) }
<div class="row">
  <div class="col-lg-12">
    <div id="project-div-error" class="alert alert-danger alert-dismissible" role="alert">
      <button id="project-button-errorClose" type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    ${ flash.get(controllers.Projects.FLASH_KEY_BACKEND_LOG) }
    </div>
  </div>
</div>
#{/if}

<div class="row">
  <div class="col-lg-8 form-group">
    <h1 id="project-h1-title">&{'Projects.edit.title'}</h1>
  </div>
</div>

<!-- LOG -->
#{if flash.get(controllers.Projects.FLASH_KEY_BACKEND_TRACE)}
<div class="row">
  <div class="col-xs-12 log-col">
    <a id="project-a-log" role="button" data-toggle="collapse" href="#collapseLog" aria-expanded="false" aria-controls="collapseLog"
       class="collapse-log">
      <img src="@{'public/images/log.png'}" alt="logger console">
    </a>
  </div>

  <div class="col-xs-12" id="log">
    <div class="collapse" id="collapseLog">
      <div class="well">
        <pre id="project-pre-log" class="log-expanded">
          ${flash.get(controllers.Projects.FLASH_KEY_BACKEND_TRACE)}
        </pre>
      </div>
    </div>
  </div>
</div>
#{/if}



<div class="row">
#{projects._form project:project, wc:controllers.WebController/}
</div>

#{set 'moreScripts'}
    #{script 'projects.js'/}
    #{script 'util/forms.js'/}

#{/set}
